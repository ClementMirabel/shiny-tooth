{"version":3,"sources":["../src/data-collection.module.js","../src/clinicalData.controller.js","../src/morphologicalData.controller.js","data-collections.templates.js"],"names":["angular","module","controller","$scope","$http","dcbia","clusterauth","getUser","then","res","user","clinicalDataSectionDisplay","clinicalDataCollection","showCreate","newCollection","items","type","name","collections","collectionsProperties","defaultClinicalDataCollection","class","selectedForm","_id","getClinicalDataCollections","selectedCollection","data","_","each","collection","catch","console","error","create","createClinicalDataCollection","selectCollection","getDataCollectionKeys","collectiondata","collectionDataKeys","item","extend","_rev","keys","select","prom","getAllClinicalData","map","doc","patientId","getClinicalData","selectedCollectionData","selectedCollectionDataKeys","delete","confirm","deleteClinicalDataCollection","refreshSelectedCollection","getClinicalDataCollection","addClinicalData","update","updateClinicalDataCollection","rev","selectForm","formId","clinical","clearForm","force","tempId","clear","date","Date","alert","createClinicalData","push","id","deleteAllFiltered","clinicalData","Promise","all","deleteClinicalData","edit","dataEdit","clone","updateClinicalData","showSection","csv","$watch","file","readFile","$apply","open","undefined","selectPatientId","resolve","reject","reader","FileReader","onload","e","target","result","indexOf","replace","RegExp","JSON","onerror","readAsText","camelize","str","letter","index","isNaN","parseInt","toLowerCase","toUpperCase","lines","split","headers","val","eval","isString","i","length","obj","currentline","j","selectedPatientId","row","rowclone","pluck","status","export","toString","key","value","filename","download","pom","document","createElement","bb","Blob","setAttribute","window","URL","createObjectURL","dataset","downloadurl","href","join","click","morphologicalDataSectionDisplay","section","morphologicalDataCollection","defaultMorphologicalDataCollection","morphologicalData","getMorphologicalDataCollections","createMorphologicalDataCollection","_attachments","attachments","getAllMorphologicalData","getMorphologicalData","d","deleteMorphologicalDataCollection","log","addMorphologicalData","owners","email","createMorphologicalData","addAttachement","updateMorphologicalDataCollection","err","stringify","m","viewAttachment","mdata","att","surface","getAttachement","run","$templateCache","put"],"mappings":"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vK,KAAK,SAASC,KACdN,OAAOuJ,kBAAkBsB,QAAUvK,IAAIiB,OAK1CvB,QAAOqJ,4BAA4BG,oCChMpC3J,SAAQC,OAAM,oBAAqBiL,KAAG,iBAAoB,SAAQC,gBAChE,YAEAA,gBAAeC,IAAG,mCAChB,KACA,sBACA,wCACA,KACA,wBACA,0CACA,qCACA,oCACA,sCACA,kHACA,gEACA,gCACA,yBACA,qBACA,mBACA,iBACA,eACA,aACA,KACA,kEACA,0CACA,mCACA,sCACA,0DACA,0KACA,mBACA,oCACA,mLACA,4DACA,sBACA,uBACA,iHACA,gEACA,sBACA,uBACA,mBACA,iBACA,eACA,aACA,KACA,mEACA,0CACA,qCACA,8CACA,qHACA,0CACA,iDACA,0CACA,sEACA,0BACA,gGACA,2BACA,8CACA,iLACA,uEACA,6BACA,KACA,uHACA,wEACA,6BACA,oBACA,yBACA,2BACA,yBACA,qBACA,mBACA,yGACA,kGACA,0CACA,iDACA,0CACA,mDACA,0BACA,6EACA,2BACA,8CACA,8JACA,wEACA,6BACA,uKACA,yEACA,6BACA,KACA,oGACA,wEACA,6BACA,KACA,8JACA,sEACA,6BACA,oBACA,8JACA,2EACA,6BACA,yBACA,2BACA,yBACA,qBACA,mBACA,iBACA,eACA,KACA,uFACA,yFACA,uCACA,wCACA,iJACA,wFACA,2BACA,qBACA,qBACA,mBACA,oEACA,uCACA,sKACA,wBACA,uBACA,4HACA,wBACA,uBACA,8FACA,gIACA,0BACA,wBACA,yBACA,wBACA,qFACA,+GACA,yBACA,yHACA,yEACA,gCACA,0BACA,yBACA,oGACA,0EACA,iCACA,0BACA,wBACA,yBACA,uBACA,qBACA,mBACA,8EACA,uCACA,kDACA,2CACA,4CACA,kHACA,wEACA,+BACA,yGACA,wEACA,+BACA,yBACA,yBACA,uBACA,kDACA,2CACA,8HACA,yBACA,uBACA,KACA,kDACA,2CACA,4CACA,kHACA,8EACA,+BACA,yGACA,8EACA,+BACA,yBACA,yBACA,uBACA,iBACA,qBACA,mBACA,WACA,eACA,KACA,0FACA,mCACA,aACA,8CACA,qCACA,sCACA,KACA,8GACA,oEACA,4BACA,yBACA,KACA,qIACA,uEACA,oHACA,uBACA,KACA,qKACA,kEACA,wBACA,yBACA,qBACA,mBACA,iBACA,KACA,8FACA,qCACA,sCACA,oGACA,gEACA,sBACA,wBACA,4JACA,+DACA,uBACA,wBACA,mBACA,iHACA,oCACA,4JACA,+DACA,uBACA,wBACA,mBACA,mBACA,iBACA,KACA,kJACA,uCACA,KACA,iDACA,uFACA,kEACA,wBACA,0BACA,qBACA,KACA,6EACA,qFACA,+EACA,6FACA,0BACA,qBACA,KACA,iIACA,wBACA,uBACA,yGACA,wBACA,uBACA,2EACA,gIACA,0BACA,wBACA,yBACA,wBACA,kEACA,4FACA,wBACA,yBACA,uBACA,mBACA,iBACA,iBACA,eACA,0FACA,mCACA,uFACA,iBACA,eACA,SACA,aACA,WAIFD,gBAAeC,IAAG,wCAChB,sBACA,KACA,6CACA,KACA,wBACA,0CACA,qCACA,oCACA,sCACA,qHACA,gEACA,gCACA,yBACA,qBACA,mBACA,iBACA,eACA,aACA,KACA,6EACA,0CACA,mCACA,sCACA,0DACA,+KACA,mBACA,oCACA,iMACA,4DACA,sBACA,uBACA,mHACA,gEACA,sBACA,uBACA,mBACA,iBACA,eACA,aACA,KACA,6EACA,0CACA,qCACA,8CACA,+HACA,0CACA,iDACA,0CACA,2EACA,0BACA,qGACA,2BACA,8CACA,gMACA,uEACA,6BACA,KACA,uHACA,wEACA,6BACA,oBACA,yBACA,2BACA,yBACA,qBACA,mBACA,8GACA,uGACA,0CACA,iDACA,0CACA,mDACA,0BACA,6EACA,2BACA,8CACA,oKACA,wEACA,6BACA,oKACA,yEACA,6BACA,KACA,8HACA,wEACA,6BACA,KACA,2HACA,sEACA,6BACA,KACA,yBACA,2BACA,yBACA,qBACA,mBACA,iBACA,eACA,4FACA,qCACA,+EACA,gDACA,2CACA,oLACA,4BACA,2BACA,qIACA,4BACA,2BACA,uGACA,oIACA,8BACA,4BACA,6BACA,4BACA,8FACA,uGACA,iFACA,6JACA,mFACA,sCACA,6BACA,iCACA,6DACA,yCACA,iCACA,iFACA,iCACA,kFACA,kCACA,iCACA,8BACA,6BACA,wGACA,8EACA,qCACA,8BACA,4BACA,6BACA,2BACA,KACA,oFACA,uCACA,yBACA,uBACA,mBACA,KACA,+EACA,gDACA,2CACA,sDACA,6CACA,8CACA,oIACA,8EACA,iCACA,0HACA,gFACA,iCACA,6BACA,qBACA,gDACA,kEACA,4MACA,6BACA,gDACA,oEACA,2JACA,6BACA,gDACA,yIACA,+EACA,gJACA,+BACA,2BACA,8CACA,wEACA,qLACA,6BACA,2BACA,yBACA,yBACA,uBACA,mBACA,iBACA,eACA,KACA,SACA,aACA","file":"data-collections.min.js","sourcesContent":["angular.module('data-collections', []);","\nangular.module('data-collections')\n.controller('clinicalData', ['$scope','$http', 'dcbia', 'clusterauth', function($scope, $http, dcbia, clusterauth) {\n\n\n\tclusterauth.getUser()\n\t.then(function(res){\n\t\t$scope.user = res;\n\t})\n\t$scope.clinicalDataSectionDisplay = {};\n\n\t$scope.clinicalDataCollection = {\n\t\tshowCreate: false,\n\t\tnewCollection: {\n\t\t\titems: [],\n\t\t\ttype: \"clinicalDataCollection\",\n\t\t\tname: \"\"\n\t\t},\n\t\tcollections: [],\n\t\tcollectionsProperties: {\n\t\t\t\"defaultClinicalDataCollection\": {\n\t\t\t\tclass: ''\n\t\t\t}\n\t\t},\n\t\tselectedForm: -1\n\t};\n\n\t$scope.defaultClinicalDataCollection = {\n\t\t_id: \"defaultClinicalDataCollection\",\n\t\tname: \"All clinical data\",\n\t\ttype: \"clinicalDataCollection\",\n\t\titems: 0\n\t}\n\n\n\t$scope.clinicalDataCollection.getClinicalDataCollections = function(){\n\t\treturn dcbia.getClinicalDataCollections()\n\t\t.then(function(res){\n\t\t\tdelete $scope.clinicalDataCollection.selectedCollection;\n\t\t\t$scope.clinicalDataCollection.collections = res.data;\n\t\t\t_.each($scope.clinicalDataCollection.collections, function(collection){\n\t\t\t\t$scope.clinicalDataCollection.collectionsProperties[collection._id] = {\n\t\t\t\t\tclass : \"\"\n\t\t\t\t};\n\t\t\t});\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.clinicalDataCollection.create = function(newCollection){\n\t\tdcbia.createClinicalDataCollection(newCollection)\n\t\t.then(function(res){\n\t\t\t$scope.clinicalDataCollection.getClinicalDataCollections();\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.clinicalDataCollection.selectCollection = function(collection){\n\t\tif($scope.clinicalDataCollection.selectedCollection){\n\t\t\t$scope.clinicalDataCollection.collectionsProperties[$scope.clinicalDataCollection.selectedCollection._id].class = \"\";\n\t\t}\n\t\t$scope.clinicalDataCollection.selectedCollection = collection;\n\t\t$scope.clinicalDataCollection.collectionsProperties[collection._id].class = \"alert alert-info\";\n\t}\n\n\t$scope.clinicalDataCollection.getDataCollectionKeys = function(collectiondata){\n\t\tvar collectionDataKeys = {};\n\t\t_.each(collectiondata, function(item){\n\t\t\t_.extend(collectionDataKeys, item);\n\t\t});\n\n\t\tif(collectionDataKeys._id){\n\t\t\tdelete collectionDataKeys._id;\n\t\t}\n\n\t\tif(collectionDataKeys._rev){\n\t\t\tdelete collectionDataKeys._rev;\n\t\t}\n\n\t\treturn _.keys(collectionDataKeys);\n\t}\n\n\t$scope.clinicalDataCollection.select = function(collection){\n\t\t\n\t\t$scope.clinicalDataCollection.selectCollection(collection);\n\t\tvar prom;\n\t\tif(collection._id === 'defaultClinicalDataCollection'){\n\t\t\tprom = dcbia.getAllClinicalData()\n\t\t\t.then(function(res){\n\t\t\t\t$scope.defaultClinicalDataCollection.items = _.map(res.data, function(doc){\n\t\t\t\t\tif(!doc.patientId){\n\t\t\t\t\t\tdoc.patientId = 'null';\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\t_id: doc._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn res;\n\t\t\t});\n\t\t}else{\n\t\t\tprom = dcbia.getClinicalData(collection._id);\n\t\t}\n\n\t\treturn prom\n\t\t.then(function(res){\n\t\t\tvar selectedCollectionData = res.data;\n\t\t    $scope.clinicalDataCollection.selectedCollectionData = selectedCollectionData;\n\t\t\t$scope.clinicalDataCollection.selectedCollectionDataKeys = $scope.clinicalDataCollection.getDataCollectionKeys(selectedCollectionData);\n\n\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.clinicalDataCollection.delete = function(collection){\n\t\t\n\t\tif (confirm(\"Are you sure you want to delete the collection?\")) {\n\t\t    dcbia.deleteClinicalDataCollection(collection._id)\n\t\t\t.then(function(res){\n\t\t\t\treturn $scope.clinicalDataCollection.getClinicalDataCollections();\n\t\t\t})\n\t\t\t.catch(console.error);\n\t\t} \n\t\t\n\t}\n\n\t$scope.clinicalDataCollection.refreshSelectedCollection = function(){\n\t\t$scope.clinicalDataCollection.select($scope.clinicalDataCollection.selectedCollection)\n\t\t.then(function(res){\n\t\t\treturn dcbia.getClinicalDataCollection($scope.clinicalDataCollection.selectedCollection._id)\n\t\t\t.then(function(res){\n\t\t\t\t$scope.clinicalDataCollection.selectedCollection = res.data\n\t\t\t\t$scope.clinicalDataCollection.collections = _.map($scope.clinicalDataCollection.collections, function(clinicalDataCollection){\n\t\t\t\t\tif(clinicalDataCollection._id === $scope.clinicalDataCollection.selectedCollection._id){\n\t\t\t\t\t\treturn $scope.clinicalDataCollection.selectedCollection;\n\t\t\t\t\t}\n\t\t\t\t\treturn clinicalDataCollection;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\t$scope.clinicalDataCollection.addClinicalData = function(collection){\n\t\t$scope.clinicalDataCollection.selectCollection(collection);\n\t}\n\t\n\n\t$scope.clinicalDataCollection.update = function(collection){\n\t\treturn dcbia.updateClinicalDataCollection(collection)\n\t\t.then(function(res){\n\t\t\tcollection._rev = res.data.rev;\n\t\t});\n\t}\n\n\t$scope.clinicalDataCollection.selectForm = function(formId){\n\t\tif($scope.clinicalDataCollection.selectedForm === -1){\n\t\t\t$scope.clinicalDataCollection.selectedForm = formId;\n\t\t}else if($scope.clinicalDataCollection.selectedForm !== formId && confirm(\"You will lose the current changes in this form. Do you want to continue?\")){\n\t\t\t$scope.clinicalDataCollection.selectedForm = formId;\n\t\t}\n\t}\n\n\t$scope.clinicalDataCollection.getClinicalDataCollections();\n\n\n\t$scope.clinical = {\n\t\tdata: {}\n\t};\n\n\t$scope.clinical.clearForm = function(force){\n\t\tvar tempId = $scope.clinical.data.formId;\n\t\tvar clear = false;\n\t\tif(!force){\n\t\t\tforce = confirm(\"Do you want to clear the current changes?\");\n\t\t}\n\t\tif(force){\n\t\t\t$scope.clinical.data = {};\n\t\t\t$scope.clinical.data.formId = tempId;\n\t\t\t$scope.clinical.data.date = new Date();\n\t\t}\n\t\t\n\t}\n\n\t$scope.clinical.create = function(){\n\t\tvar selectedCollection = $scope.clinicalDataCollection.selectedCollection;\n\t\tif(!selectedCollection){\n\t\t\talert(\"You need to select a collection first!\");\n\t\t}else if($scope.clinical.data){\n\t\t\t$scope.clinical.createClinicalData($scope.clinical.data)\n\t\t\t.then(function(res){\n\t\t\t\tselectedCollection.items.push({_id:res.data.id});\n\t\t\t\treturn $scope.clinicalDataCollection.update(selectedCollection);\n\t\t\t})\n\t\t\t.catch(console.error);\n\t\t}\n\t}\n\n\t$scope.clinical.createClinicalData = function(clinical){\n\t\tclinical.type = \"clinicalData\";\n\t\treturn dcbia.createClinicalData(clinical)\n\t\t.catch(console.error);\n\t}\n\n\t$scope.clinical.deleteAllFiltered = function(clinicalData){\n\t\tif(confirm(\"Do you want to delete the items beign displayed?\")){\n\t\t\tPromise.all(_.map(clinicalData, function(item){\n\t\t\t\treturn dcbia.deleteClinicalData(item._id);\n\t\t\t}));\n\t\t}\n\t}\n\n\t$scope.clinical.delete = function(item){\n\t\tif(confirm(\"Do you want to delete the current item?\")){\n\t\t\treturn dcbia.deleteClinicalData(item._id)\n\t\t\t.then(function(){\n\t\t\t\t$scope.clinicalDataCollection.refreshSelectedCollection();\n\t\t\t});\n\t\t}\n\t\t\n\t}\n\n\t$scope.clinical.edit = function(item){\n\t\t$scope.clinical.dataEdit = _.clone(item);\n\t}\n\n\t$scope.clinical.update = function(item){\n\t\tdcbia.updateClinicalData(item)\n\t\t.then(function(res){\n\t\t\t$scope.clinical.showSection = -1;\n\t\t\t$scope.clinicalDataCollection.select($scope.clinicalDataCollection.selectedCollection);\n\t\t})\n\t}\n\n\t$scope.csv = {};\n\n\t$scope.$watch('csv.file', function(){\n\t\tif($scope.csv.file){\n\t\t\t$scope.csv.readFile()\n\t\t\t.then(function(){\n\t\t\t\t$scope.$apply();\n\t\t\t});\n\t\t}\n\t});\n\n\t$scope.csv.readFile = function(){\n\t\treturn $scope.csv.open($scope.csv.file)\n\t\t.then(function(selectedCollectionData){\n\n\t\t\tvar selectedCollectionDataKeys = {};\n\n\t\t\t_.each(selectedCollectionData, function(item){\n\t\t\t\t_.extend(selectedCollectionDataKeys, item);\n\t\t\t});\n\n\t\t\tif(selectedCollectionDataKeys['patientId'] === undefined){\n\t\t\t\t$scope.csv.selectPatientId = true;\n\t\t\t}\n\n\t\t\tselectedCollectionDataKeys = _.keys(selectedCollectionDataKeys);\n\n\t\t    $scope.csv.selectedCollectionData = selectedCollectionData;\n\t\t\t$scope.csv.selectedCollectionDataKeys = selectedCollectionDataKeys;\n\n\n\n\t\t})\n\t}\n\n\t$scope.csv.open = function(file){\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar reader = new FileReader();\n                \n\t        reader.onload = function(e) {\n\t          var csv = e.target.result;\n\t          if(csv.indexOf('\\r\\n') === -1 && csv.indexOf('\\r') !== -1){\n\t            csv = csv.replace(new RegExp(\"\\r\", 'g'), \"\\n\");\n\t          }\n\n\t          resolve($scope.csv.JSON(csv));\n\t          \n\t        }\n\n\t        reader.onerror = function(e){\n\t          reject(e)\n\t        }\n\t        reader.readAsText(file);\n\t\t});\n\t}\n\n\t$scope.csv.camelize = function(str) {\n\t  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(letter, index) {\n\t  \tif(index == 0  && !isNaN(parseInt(letter))){\n\t  \t\treturn '';\t\n\t  \t}\n\t    return index == 0 ? letter.toLowerCase() : letter.toUpperCase();\n\t  }).replace(/\\s+/g, '')\n\t  .replace(/-/g, '');\n\t}\n\n\t$scope.csv.JSON = function(csv){\n\n\t    var lines = csv.split(\"\\n\");\n\t    var result = [];\n\t    var headers = _.map(lines[0].split(\",\"), function(val){\n\t      try{\n\t        return eval(val);\n\t      }catch(e){\n\t      \tif(_.isString(val)){\n\t      \t\treturn $scope.csv.camelize(val);\n\t      \t}\n\t      \treturn val;\n\t      }\n\t    });\n\t    for(var i=1;i<lines.length;i++){\n\t      var obj = {};\n\t      var currentline= _.map(lines[i].split(\",\"), function(val){\n\t        try{\n\t          return eval(val);\n\t        }catch(e){\n\t          return val;\n\t        }\n\t      });\n\t      for(var j=0;j<headers.length;j++){\n\t        obj[headers[j]] = currentline[j];\n\t      }\n\t      result.push(obj);\n\t    }\n\t    return result;\n\t}\n\n\t$scope.csv.create = function(){\n\n\t\tif($scope.csv.selectPatientId && !$scope.csv.selectedPatientId){\n\t\t\talert('Please select a patientId from the available column headers!');\n\t\t}else{\n\t\t\tPromise.all(_.map($scope.csv.selectedCollectionData, function(row){\n\t\t\t\tvar rowclone = _.clone(row);\n\t\t\t\tif($scope.csv.selectPatientId){\n\t\t\t\t\trowclone.patientId = row[$scope.csv.selectedPatientId];\n\t\t\t\t\tdelete rowclone[$scope.csv.selectedPatientId];\n\t\t\t\t}\n\t\t\t\treturn $scope.clinical.createClinicalData(rowclone);\n\t\t\t\t\n\t\t\t}))\n\t\t\t.then(function(res){\n\t\t\t\t_.each(_.pluck(res, 'data'), function(status){\n\t\t\t\t\t$scope.clinicalDataCollection.selectedCollection.items.push({\n\t\t\t\t\t\t_id: status.id\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn $scope.clinicalDataCollection.update($scope.clinicalDataCollection.selectedCollection);\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\tdelete $scope.csv.selectedCollectionData;\n\t\t\t\tdelete $scope.csv.selectedCollectionDataKeys;\n\t\t\t\treturn $scope.clinicalDataCollection.select($scope.clinicalDataCollection.selectedCollection);\n\t\t\t})\n\t\t\t.catch(console.error);\n\t\t}\n\t\t\n\t}\n\n\t$scope.csv.export = function(collection){\n\t\tvar prom;\n\t\tif(!$scope.clinicalDataCollection.selectedCollection || collection._id !== $scope.clinicalDataCollection.selectedCollection._id){\n\t\t\tprom = $scope.clinicalDataCollection.select(collection);\n\t\t}else{\n\t\t\tprom = Promise.resolve(true);\n\t\t}\n\n\t\tprom\n\t\t.then(function(){\n\t\t\tvar keys = $scope.clinicalDataCollection.getDataCollectionKeys($scope.clinicalDataCollection.selectedCollectionData);\n\t\t\tvar csv = keys.toString();\n\t\t\tcsv += '\\n';\n\n\t\t\t_.each($scope.clinicalDataCollection.selectedCollectionData, function(row, i){\n\t\t\t\t_.each(keys, function(key, j){\n\t\t\t\t\tvar value = row[key]? row[key]: '';\n\t\t\t\t\tcsv += value;\n\t\t\t\t\tif(j < keys.length -1){\n\t\t\t\t\t\tcsv += \",\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif( i < $scope.clinicalDataCollection.selectedCollectionData.length - 1){\n\t\t\t\t\tcsv += \"\\n\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar filename = $scope.clinicalDataCollection.selectedCollection.name;\n\t\t\tif($scope.clinicalDataCollection.selectedCollection.name.indexOf('csv') === -1){\n\t\t\t\tfilename += '.csv';\n\t\t\t}\n\n\t\t\treturn $scope.csv.download(filename, csv);\n\t\t});\n\t\t\n\t}\n\n\t$scope.csv.download = function(filename, csv){\n\n\t\tvar pom = document.createElement('a');\n\t\tvar bb = new Blob([csv], {type: 'text/plain'});\n\n\t\tpom.setAttribute('href', window.URL.createObjectURL(bb));\n\t\tpom.setAttribute('download', filename);\n\n\t\tpom.dataset.downloadurl = ['text/plain', pom.download, pom.href].join(':');\n\t\tpom.click();\n\t\t\n\t}\n\n\n}]);","angular.module('data-collections')\n.controller('morphologicalData', ['$scope','$http', 'dcbia', 'clusterauth', function($scope, $http, dcbia, clusterauth) {\n\n\tclusterauth.getUser()\n\t.then(function(res){\n\t\t$scope.user = res;\n\t})\n\t$scope.morphologicalDataSectionDisplay = {\n\t\tsection: 0\n\t};\n\n\t$scope._ = _;\n\n\t$scope.morphologicalDataCollection = {\n\t\tnewCollection: {\n\t\t\titems: [],\n\t\t\ttype: \"morphologicalDataCollection\",\n\t\t\tname: \"\"\n\t\t},\n\t\tcollections: [],\n\t\tcollectionsProperties: {\n\t\t\t\"defaultMorphologicalDataCollection\": {\n\t\t\t\tclass: ''\n\t\t\t}\n\t\t},\n\t\tsection: -1\n\t};\n\n\t$scope.morphologicalData = {\n\t\tdata: {}\n\t};\n\n\t$scope.defaultMorphologicalDataCollection = {\n\t\t_id: \"defaultMorphologicalDataCollection\",\n\t\tname: \"All morphological data\",\n\t\ttype: \"morphologicalDataCollection\",\n\t\titems: 0\n\t}\n\n\n\t$scope.morphologicalDataCollection.getMorphologicalDataCollections = function(){\n\t\treturn dcbia.getMorphologicalDataCollections()\n\t\t.then(function(res){\n\t\t\tdelete $scope.morphologicalDataCollection.selectedCollection;\n\t\t\t$scope.morphologicalDataCollection.collections = res.data;\n\t\t\t_.each($scope.morphologicalDataCollection.collections, function(collection){\n\t\t\t\t$scope.morphologicalDataCollection.collectionsProperties[collection._id] = {\n\t\t\t\t\tclass : \"\"\n\t\t\t\t};\n\t\t\t});\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.morphologicalDataCollection.create = function(newCollection){\n\t\tdcbia.createMorphologicalDataCollection(newCollection)\n\t\t.then(function(res){\n\t\t\treturn $scope.morphologicalDataCollection.getMorphologicalDataCollections();\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.morphologicalDataCollection.selectCollection = function(collection){\n\t\tif($scope.morphologicalDataCollection.selectedCollection){\n\t\t\t$scope.morphologicalDataCollection.collectionsProperties[$scope.morphologicalDataCollection.selectedCollection._id].class = \"\";\n\t\t}\n\t\t$scope.morphologicalDataCollection.selectedCollection = collection;\n\t\t$scope.morphologicalDataCollection.collectionsProperties[collection._id].class = \"alert alert-info\";\n\t}\n\n\t$scope.morphologicalDataCollection.getDataCollectionKeys = function(collectiondata){\n\t\tvar collectionDataKeys = {};\n\t\t_.each(collectiondata, function(item){\n\t\t\t_.extend(collectionDataKeys, item);\n\t\t});\n\n\t\tif(collectionDataKeys._id){\n\t\t\tdelete collectionDataKeys._id;\n\t\t}\n\n\t\tif(collectionDataKeys._rev){\n\t\t\tdelete collectionDataKeys._rev;\n\t\t}\n\n\t\tif(collectionDataKeys._attachments){\n\t\t\tdelete collectionDataKeys._attachments;\n\t\t}\n\n\t\tcollectionDataKeys.attachments = {};\n\n\t\treturn _.keys(collectionDataKeys);\n\t}\n\n\t$scope.morphologicalDataCollection.select = function(collection){\n\t\t\n\t\t$scope.morphologicalDataCollection.selectCollection(collection);\n\t\tvar prom;\n\t\tif(collection._id === 'defaultMorphologicalDataCollection'){\n\t\t\tprom = dcbia.getAllMorphologicalData()\n\t\t\t.then(function(res){\n\t\t\t\t$scope.defaultMorphologicalDataCollection.items = _.map(res.data, function(doc){\n\t\t\t\t\tif(!doc.patientId){\n\t\t\t\t\t\tdoc.patientId = 'null';\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\t_id: doc._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn res;\n\t\t\t});\n\t\t}else{\n\t\t\tprom = dcbia.getMorphologicalData(collection._id);\n\t\t}\n\n\t\treturn prom\n\t\t.then(function(res){\n\t\t\tvar selectedCollectionData = res.data;\n\t\t    $scope.morphologicalDataCollection.selectedCollectionData = _.map(selectedCollectionData, function(d){\n\t\t    \tif(d._attachments){\n\t\t    \t\t_.extend(d, {\n\t\t    \t\t\tattachments: _.keys(d._attachments)\n\t\t    \t\t});\n\t\t    \t}\n\t\t    \treturn d;\n\t\t    \t\n\t\t    });\n\t\t\t$scope.morphologicalDataCollection.selectedCollectionDataKeys = $scope.morphologicalDataCollection.getDataCollectionKeys(selectedCollectionData);\n\n\n\t\t})\n\t\t.catch(console.error);\n\t}\n\n\t$scope.morphologicalDataCollection.delete = function(collection){\n\t\t\n\t\tif (confirm(\"Are you sure you want to delete the collection?\")) {\n\t\t    dcbia.deleteMorphologicalDataCollection(collection._id)\n\t\t\t.then(function(res){\n\t\t\t\treturn $scope.morphologicalDataCollection.getMorphologicalDataCollections();\n\t\t\t})\n\t\t\t.catch(console.error);\n\t\t} \n\t\t\n\t}\n\n\t$scope.morphologicalDataCollection.download = function(collection){\n\t\tconsole.log(\"TODO\");\n\t}\n\t\n\n\t$scope.morphologicalDataCollection.addMorphologicalData = function(){\n\t\tif ($scope.morphologicalData.data.date == undefined) {\n\t\t\t$scope.morphologicalData.data.date = new Date()\n\t\t}\n\t\tvar morphologicalData = {\n\t\t\tpatientId: $scope.morphologicalData.data.patientId,\n\t\t\tdate: $scope.morphologicalData.data.date,\n\t\t\towners: [],\n\t\t\ttype: \"morphologicalData\"\n\t\t}\n\t\tmorphologicalData.owners.push({\n\t\t\tuser: $scope.user.email\n\t\t});\n\t\tdcbia.createMorphologicalData(morphologicalData)\n\t\t.then(function(res){\n\t\t\t$scope.morphologicalDataCollection.selectedCollection.items.push({\n\t\t\t\t_id: res.data.id\n\t\t\t});\n\t\t\treturn Promise.all([dcbia.addAttachement(res.data.id, $scope.morphologicalData.data.file.name, $scope.morphologicalData.data.file), dcbia.updateMorphologicalDataCollection($scope.morphologicalDataCollection.selectedCollection)]);\n\t\t})\n\t\t.then(function(res){\n\t\t\tconsole.log(res);\n\t\t})\n\t\t.catch(function(err){\n\t\t\talert(JSON.stringify(err));\n\t\t})\n\t\t\n\t}\n\n\t$scope.morphologicalData.delete = function(m){\n\t\tconsole.log(m);\n\t}\n\n\t$scope.morphologicalData.viewAttachment = function(mdata, att){\n\t\t$scope.morphologicalData.surface = null;\n\t\t dcbia.getAttachement(mdata._id, att, \"arraybuffer\")\n\t\t .then(function(res){\n\t\t \t$scope.morphologicalData.surface = res.data;\n\t\t });\n\t\t\n\t}\n\n\t$scope.morphologicalDataCollection.getMorphologicalDataCollections();\n\t\n\n}]);","angular.module('data-collections').run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('./src/clinicalData.template.html',\n    \"\\n\" +\n    \"<navbar></navbar>\\n\" +\n    \"<div ng-controller=\\\"clinicalData\\\"> \\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t\t<div class=\\\"col-md-12\\\">\\n\" +\n    \"\t\t\t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showCreate = true\\\">\\n\" +\n    \"\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-plus\\\"></span>\\n\" +\n    \"\t\t\t\t\t \tNew Collection\\n\" +\n    \"\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t</div>\\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\" ng-if=\\\"clinicalDataCollection.showCreate\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-success\\\">\\n\" +\n    \"\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t<div class=\\\"input-group\\\">\\n\" +\n    \"\t  \t\t\t<span class=\\\"input-group-addon\\\">Name</span>\\n\" +\n    \"\t  \t\t\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Collection name\\\" aria-describedby=\\\"basic-addon3\\\" ng-model=\\\"clinicalDataCollection.newCollection.name\\\">\\n\" +\n    \"\t  \t\t</div>\\n\" +\n    \"\t  \t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.create(clinicalDataCollection.newCollection);clinicalDataCollection.showCreate=false\\\">\\n\" +\n    \"\t\t\t\t \t<span class=\\\"glyphicon glyphicon-ok\\\"></span>\\n\" +\n    \"\t\t\t\t \tCreate\\n\" +\n    \"\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showCreate = false\\\">\\n\" +\n    \"\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t \tCancel\\n\" +\n    \"\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t  </div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t</div>\\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\" ng-if=\\\"!clinicalDataCollection.showCreate\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t  \t\t\t<div class=\\\"col-sm-6 col-md-4\\\">\\n\" +\n    \"\t\t\t\t\t<div ng-class=\\\"clinicalDataCollection.collectionsProperties['defaultClinicalDataCollection'].class\\\">\\n\" +\n    \"\t\t\t\t\t    <div class=\\\"thumbnail\\\">\\n\" +\n    \"\t\t\t\t\t    \t<!-- <img src=\\\"\\\" alt=\\\"\\\"> -->\\n\" +\n    \"\t\t\t\t\t      <div class=\\\"caption\\\">\\n\" +\n    \"\t\t\t\t\t        <h3>{{defaultClinicalDataCollection.name}}</h3>\\n\" +\n    \"\t\t\t\t\t        <p>\\n\" +\n    \"\t\t\t\t\t        \t<b>Number of items: </b> {{defaultClinicalDataCollection.items.length}}\\n\" +\n    \"\t\t\t\t\t        </p>\\n\" +\n    \"\t\t\t\t        \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showSection = 0;clinicalDataCollection.select(defaultClinicalDataCollection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-refresh\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"csv.export(defaultClinicalDataCollection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-download\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t \\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t      </div>\\n\" +\n    \"\t\t\t\t\t    </div>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t<div class=\\\"col-sm-6 col-md-4\\\" ng-repeat=\\\"collection in clinicalDataCollection.collections\\\">\\n\" +\n    \"\t\t\t\t\t<div ng-class=\\\"clinicalDataCollection.collectionsProperties[collection._id].class\\\">\\n\" +\n    \"\t\t\t\t\t    <div class=\\\"thumbnail\\\">\\n\" +\n    \"\t\t\t\t\t    \t<!-- <img src=\\\"\\\" alt=\\\"\\\"> -->\\n\" +\n    \"\t\t\t\t\t      <div class=\\\"caption\\\">\\n\" +\n    \"\t\t\t\t\t        <h3>{{collection.name}}</h3>\\n\" +\n    \"\t\t\t\t\t        <p>\\n\" +\n    \"\t\t\t\t\t        \t<b>Number of items: </b> {{collection.items.length}}\\n\" +\n    \"\t\t\t\t\t        </p>\\n\" +\n    \"\t\t\t\t        \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showSection = 0;clinicalDataCollection.select(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-eye-open\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showSection = 1;clinicalDataCollection.addClinicalData(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-plus-sign\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"csv.export(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-download\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showSection = 2;clinicalDataCollection.select(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-signal\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t \\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"clinicalDataCollection.showSection = -1;clinicalDataCollection.delete(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove-sign\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t      </div>\\n\" +\n    \"\t\t\t\t\t    </div>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t<div class=\\\"panel panel-info\\\" ng-if=\\\"clinicalDataCollection.showSection == 0\\\">\\n\" +\n    \"\t\t\t<div class=\\\"panel panel-default\\\" ng-if=\\\"user.scope.indexOf('admin') !== -1\\\">\\n\" +\n    \"\t\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"clinical.deleteAllFiltered(clinicalDataCollection.displayedCollection)\\\">\\n\" +\n    \"\t\t\t\t\t\t \tRemoves all filtered<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t</div>\\n\" +\n    \"\t\t  \t</div>\\n\" +\n    \"\t\t\t<div class=\\\"panel panel-default\\\" style=\\\"overflow:scroll\\\">\\n\" +\n    \"\t\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t<table st-table=\\\"clinicalDataCollection.displayedCollection\\\" st-safe-src=\\\"clinicalDataCollection.selectedCollectionData\\\" class=\\\"table table-striped\\\">\\n\" +\n    \"\t\t\t\t\t\t<thead>\\n\" +\n    \"\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in clinicalDataCollection.selectedCollectionDataKeys\\\" st-sort=\\\"{{key}}\\\">{{key}}</th>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in clinicalDataCollection.selectedCollectionDataKeys\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<input st-search=\\\"{{key}}\\\" placeholder=\\\"search for {{key}}\\\" class=\\\"input-sm form-control\\\" type=\\\"search\\\"/>\\n\" +\n    \"\t\t\t\t\t\t\t\t</th>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t</thead>\\n\" +\n    \"\t\t\t\t\t\t<tbody>\\n\" +\n    \"\t\t\t\t\t\t\t<tr ng-repeat=\\\"row in clinicalDataCollection.displayedCollection\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t<td ng-repeat=\\\"key in clinicalDataCollection.selectedCollectionDataKeys\\\">{{row[key]}}</td>\\n\" +\n    \"\t\t\t\t\t\t\t\t<td>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-info\\\" ng-click=\\\"clinical.showSection = 0;clinical.edit(row)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t<span class=\\\"glyphicon glyphicon-pencil\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t\t\t\t\t</td>\\n\" +\n    \"\t\t\t\t\t\t\t\t<td>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"clinical.delete(row)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t\t</td>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t</tbody>\\n\" +\n    \"\t\t\t\t\t</table>\\n\" +\n    \"\t\t  \t\t</div>\\n\" +\n    \"\t\t  \t</div>\\n\" +\n    \"\t\t\t<div class=\\\"panel panel-default\\\" ng-if=\\\"clinical.showSection == 0\\\">\\n\" +\n    \"\t\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t  \t\t\t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.update(clinical.dataEdit)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-upload\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.showSection = -1\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t  \t\t\t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t\t\t<tmj-survey form-data=\\\"clinical.dataEdit\\\" ng-if=\\\"clinical.dataEdit.formId == 'TMJSurvey'\\\"></tmj-survey>\\n\" +\n    \"\t\t  \t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t  \t\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t  \t\t\t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t\t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.update(clinical.dataEdit)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-upload\\\">Update</span>\\n\" +\n    \"\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.showSection = -1\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\">Cancel</span>\\n\" +\n    \"\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t</div>\\n\" +\n    \"\t\t  \t\t\t\\n\" +\n    \"\t\t  \t\t</div>\\n\" +\n    \"\t\t  \t</div>\\n\" +\n    \"\t\t\t\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\" ng-if=\\\"clinicalDataCollection.showSection == 1\\\">\\n\" +\n    \"\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\\n\" +\n    \"\t\t  \t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.selectForm(2)\\\">\\n\" +\n    \"\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-list-alt\\\"></span>\\n\" +\n    \"\t\t\t\t\t \tTMJ Survey\\n\" +\n    \"\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t <label class=\\\"btn btn-default\\\" for=\\\"clinicalData-file-selector\\\" ng-click=\\\"clinicalDataCollection.selectedForm = 100\\\">\\n\" +\n    \"\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-folder-open\\\"></span>\\n\" +\n    \"\t\t\t\t\t    <input id=\\\"clinicalData-file-selector\\\" file-model='csv.file' type=\\\"file\\\" style=\\\"display:none;\\\">\\n\" +\n    \"\t\t\t\t\t</label>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinicalDataCollection.showAddClinicalData = false;clinicalDataCollection.selectedForm = -1\\\">\\n\" +\n    \"\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t \tCancel\\n\" +\n    \"\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t  \t</div>\\n\" +\n    \"\t\t\t  </div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t  \t<div class=\\\"panel panel-info\\\" ng-if=\\\"clinicalDataCollection.selectedForm !== -1\\\">\\n\" +\n    \"\t\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t  \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t  \t\t<button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.clearForm(false)\\\">\\n\" +\n    \"\t\t\t\t\t\t<span class=\\\"glyphicon glyphicon-minus\\\"></span>\\n\" +\n    \"\t\t\t\t\t\tClear\\n\" +\n    \"\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.create();clinical.clearForm(true);clinicalDataCollection.selectedForm = -1\\\">\\n\" +\n    \"\t\t\t\t\t\t<span class=\\\"glyphicon glyphicon-save\\\"></span>\\n\" +\n    \"\t\t\t\t\t\tSubmit\\n\" +\n    \"\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t<tmj-survey form-data=\\\"clinical.data\\\" ng-if=\\\"clinicalDataCollection.selectedForm == 2\\\"></tmj-survey>\\n\" +\n    \"\t\t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"clinical.create();clinical.clearForm(true);clinicalDataCollection.selectedForm = -1\\\">\\n\" +\n    \"\t\t\t\t\t\t<span class=\\\"glyphicon glyphicon-save\\\"></span>\\n\" +\n    \"\t\t\t\t\t\tSubmit\\n\" +\n    \"\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t  </div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t\t<div class=\\\"panel panel-info\\\" style=\\\"overflow:scroll\\\" ng-if=\\\"clinicalDataCollection.selectedForm == 100 && csv.selectedCollectionData\\\">\\n\" +\n    \"\t\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\\n\" +\n    \"\t\t  \t\t\t<div class=\\\"btn-group col-md-3\\\">\\n\" +\n    \"\t\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"csv.create()\\\">\\n\" +\n    \"\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-save\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t \tSave\\n\" +\n    \"\t\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t<div class=\\\"input-group col-md-6\\\" ng-if=\\\"csv.selectPatientId\\\">\\n\" +\n    \"\t\t\t\t\t\t<span class=\\\"input-group-addon\\\" id=\\\"sizing-addon2\\\">patientId:</span>\\n\" +\n    \"\t\t\t\t\t\t<select ng-model=\\\"csv.selectedPatientId\\\" class=\\\"form-control\\\">\\n\" +\n    \"\t\t\t\t\t\t\t<option ng-repeat=\\\"key in csv.selectedCollectionDataKeys\\\">{{key}}</option>\\n\" +\n    \"\t\t\t\t\t\t</select>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t  \t<table st-table=\\\"csv.displayedCollection\\\" st-safe-src=\\\"csv.selectedCollectionData\\\" class=\\\"table table-striped\\\" >\\n\" +\n    \"\t\t\t\t\t\t<thead>\\n\" +\n    \"\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in csv.selectedCollectionDataKeys\\\" st-sort=\\\"{{key}}\\\">{{key}}</th>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in csv.selectedCollectionDataKeys\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<input st-search=\\\"{{key}}\\\" placeholder=\\\"search for {{key}}\\\" class=\\\"input-sm form-control\\\" type=\\\"search\\\"/>\\n\" +\n    \"\t\t\t\t\t\t\t\t</th>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t</thead>\\n\" +\n    \"\t\t\t\t\t\t<tbody>\\n\" +\n    \"\t\t\t\t\t\t\t<tr ng-repeat=\\\"row in csv.displayedCollection\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t<td ng-repeat=\\\"key in csv.selectedCollectionDataKeys\\\">{{row[key]}}</td>\\n\" +\n    \"\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t</tbody>\\n\" +\n    \"\t\t\t\t\t</table>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t  </div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\" ng-if=\\\"clinicalDataCollection.showSection == 2\\\">\\n\" +\n    \"\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t<d3-plots data=\\\"clinicalDataCollection.selectedCollectionData\\\"></d3-plots>\\n\" +\n    \"\t\t  </div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t\t\\n\" +\n    \"\t</div>\\n\" +\n    \"</div>\\n\"\n  );\n\n\n  $templateCache.put('./src/morphologicalData.template.html',\n    \"<navbar></navbar>\\n\" +\n    \"\\n\" +\n    \"<div ng-controller=\\\"morphologicalData\\\"> \\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t\t<div class=\\\"col-md-12\\\">\\n\" +\n    \"\t\t\t\t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataSectionDisplay.section = 1\\\">\\n\" +\n    \"\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-plus\\\"></span>\\n\" +\n    \"\t\t\t\t\t \tNew Collection\\n\" +\n    \"\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t</div>\\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\" ng-if=\\\"morphologicalDataSectionDisplay.section == 1\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-success\\\">\\n\" +\n    \"\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t  \t<div class=\\\"input-group\\\">\\n\" +\n    \"\t  \t\t\t<span class=\\\"input-group-addon\\\">Name</span>\\n\" +\n    \"\t  \t\t\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Collection name\\\" aria-describedby=\\\"basic-addon3\\\" ng-model=\\\"morphologicalDataCollection.newCollection.name\\\">\\n\" +\n    \"\t  \t\t</div>\\n\" +\n    \"\t  \t\t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.create(morphologicalDataCollection.newCollection);morphologicalDataSectionDisplay.section = 0\\\">\\n\" +\n    \"\t\t\t\t \t<span class=\\\"glyphicon glyphicon-ok\\\"></span>\\n\" +\n    \"\t\t\t\t \tCreate\\n\" +\n    \"\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataSectionDisplay.section = 0\\\">\\n\" +\n    \"\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t \tCancel\\n\" +\n    \"\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t  </div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t</div>\\n\" +\n    \"\\n\" +\n    \"\t<div class=\\\"row\\\" ng-if=\\\"morphologicalDataSectionDisplay.section == 0\\\">\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t  \t\t\t<div class=\\\"col-sm-6 col-md-4\\\">\\n\" +\n    \"\t\t\t\t\t<div ng-class=\\\"morphologicalDataCollection.collectionsProperties['defaultMorphologicalDataCollection'].class\\\">\\n\" +\n    \"\t\t\t\t\t    <div class=\\\"thumbnail\\\">\\n\" +\n    \"\t\t\t\t\t    \t<!-- <img src=\\\"\\\" alt=\\\"\\\"> -->\\n\" +\n    \"\t\t\t\t\t      <div class=\\\"caption\\\">\\n\" +\n    \"\t\t\t\t\t        <h3>{{defaultMorphologicalDataCollection.name}}</h3>\\n\" +\n    \"\t\t\t\t\t        <p>\\n\" +\n    \"\t\t\t\t\t        \t<b>Number of items: </b> {{defaultMorphologicalDataCollection.items.length}}\\n\" +\n    \"\t\t\t\t\t        </p>\\n\" +\n    \"\t\t\t\t        \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.showSection = 0;morphologicalDataCollection.select(defaultMorphologicalDataCollection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-refresh\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"csv.export(defaultClinicalDataCollection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-download\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t \\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t      </div>\\n\" +\n    \"\t\t\t\t\t    </div>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t<div class=\\\"col-sm-6 col-md-4\\\" ng-repeat=\\\"collection in morphologicalDataCollection.collections\\\">\\n\" +\n    \"\t\t\t\t\t<div ng-class=\\\"morphologicalDataCollection.collectionsProperties[collection._id].class\\\">\\n\" +\n    \"\t\t\t\t\t    <div class=\\\"thumbnail\\\">\\n\" +\n    \"\t\t\t\t\t    \t<!-- <img src=\\\"\\\" alt=\\\"\\\"> -->\\n\" +\n    \"\t\t\t\t\t      <div class=\\\"caption\\\">\\n\" +\n    \"\t\t\t\t\t        <h3>{{collection.name}}</h3>\\n\" +\n    \"\t\t\t\t\t        <p>\\n\" +\n    \"\t\t\t\t\t        \t<b>Number of items: </b> {{collection.items.length}}\\n\" +\n    \"\t\t\t\t\t        </p>\\n\" +\n    \"\t\t\t\t        \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.section = 0;morphologicalDataCollection.select(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-eye-open\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.section = 1;morphologicalDataCollection.select(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-plus-sign\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.download(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-download\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"morphologicalDataCollection.delete(collection)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t </button>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t      </div>\\n\" +\n    \"\t\t\t\t\t    </div>\\n\" +\n    \"\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\t\t<div class=\\\"panel panel-default\\\" ng-if=\\\"morphologicalDataCollection.section != -1\\\">\\n\" +\n    \"\t  \t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t\t<div class=\\\"row\\\" ng-if=\\\"morphologicalDataCollection.section == 0\\\">\\n\" +\n    \"\t\t\t\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t\t  \t\t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t  \t\t\t\t<table st-table=\\\"morphologicalDataCollection.displayedCollection\\\" st-safe-src=\\\"morphologicalDataCollection.selectedCollectionData\\\" class=\\\"table table-striped\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t<thead>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in morphologicalDataCollection.selectedCollectionDataKeys\\\" st-sort=\\\"{{key}}\\\">{{key}}</th>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t<th ng-repeat=\\\"key in morphologicalDataCollection.selectedCollectionDataKeys\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t<input st-search=\\\"{{key}}\\\" placeholder=\\\"search for {{key}}\\\" class=\\\"input-sm form-control\\\" type=\\\"search\\\"/>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t</th>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t</thead>\\n\" +\n    \"\t\t\t\t\t\t\t\t<tbody>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t<tr ng-repeat=\\\"row in morphologicalDataCollection.displayedCollection\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t<td ng-repeat=\\\"key in morphologicalDataCollection.selectedCollectionDataKeys\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t<div ng-if=\\\"_.isArray(row[key]) && key != 'owners'\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-repeat=\\\"att in row[key]\\\" ng-click=\\\"morphologicalData.viewAttachment(row, att)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\\\"glyphicon glyphicon-eye\\\"></span>{{att}}\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t</button>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t<div ng-if=\\\"!_.isArray(row[key])\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t{{row[key]}}\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t<div ng-if=\\\"_.isArray(row[key]) && key == 'owners'\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t<ul>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t\t<li ng-repeat=\\\"item in row[key]\\\">{{item.user}}</li>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t\t</ul>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t</td>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t<td>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t<button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"clinical.delete(row)\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t\t</td>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t</tr>\\n\" +\n    \"\t\t\t\t\t\t\t\t</tbody>\\n\" +\n    \"\t\t\t\t\t\t\t</table>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t\t\t\t<directive-threejs data=\\\"morphologicalData.surface\\\" height=\\\"400\\\">\\n\" +\n    \"\t\t\t\t\t\t\t</directive-threejs>\\n\" +\n    \"\t\t\t  \t\t\t</div>\\n\" +\n    \"\t\t\t  \t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t\t\t<div class=\\\"row\\\" ng-if=\\\"morphologicalDataCollection.section == 1\\\">\\n\" +\n    \"\t\t\t\t\t<div class=\\\"panel panel-default\\\">\\n\" +\n    \"\t\t\t  \t\t\t<div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t  \t\t\t\t<div class=\\\"panel panel-success\\\">\\n\" +\n    \"\t\t\t\t\t\t\t  <div class=\\\"panel-body\\\">\\n\" +\n    \"\t\t\t\t\t\t\t  \t<div class=\\\"btn-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.addMorphologicalData()\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-plus\\\"></span>Upload\\n\" +\n    \"\t\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"morphologicalDataCollection.section = -1\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-remove\\\"></span>Cancel\\n\" +\n    \"\t\t\t\t\t\t\t\t\t </button>\\n\" +\n    \"\t\t\t\t\t\t\t  \t</div>\\n\" +\n    \"\t\t\t\t\t\t\t  \\n\" +\n    \"\t\t\t\t\t\t\t  \t<div class=\\\"input-group\\\">\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<span class=\\\"input-group-addon\\\">Id</span>\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<input type=\\\"string\\\" class=\\\"form-control\\\" placeholder=\\\"Patient id (required)\\\" aria-describedby=\\\"basic-addon3\\\" ng-model=\\\"morphologicalData.data.patientId\\\" ng-readonly=\\\"editFields\\\">\\n\" +\n    \"\t\t\t\t\t\t  \t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t  \t<div class=\\\"input-group\\\">\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<span class=\\\"input-group-addon\\\">Date</span>\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<input type=\\\"date\\\" class=\\\"form-control\\\" placeholder=\\\"Date\\\" aria-describedby=\\\"basic-addon3\\\" ng-model=\\\"morphologicalData.data.date\\\">\\n\" +\n    \"\t\t\t\t\t\t  \t\t</div>\\n\" +\n    \"\t\t\t\t\t\t  \t\t<div class=\\\"input-group\\\">\\n\" +\n    \"\t\t\t\t\t\t\t  \t\t<label class=\\\"btn btn-default\\\" for=\\\"clinicalData-file-selector\\\" ng-click=\\\"morphologicalData.selectedForm = -1;\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t \t<span class=\\\"glyphicon glyphicon-folder-open\\\"></span>\\n\" +\n    \"\t\t\t\t\t\t\t\t\t    <input id=\\\"clinicalData-file-selector\\\" file-model='morphologicalData.data.file' type=\\\"file\\\"  style=\\\"display:none;\\\">\\n\" +\n    \"\t\t\t\t\t\t\t\t\t</label>\\n\" +\n    \"\t\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t\t<div class=\\\"input-group\\\">\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<span class=\\\"input-group-addon\\\">Filename</span>\\n\" +\n    \"\t\t\t\t\t\t  \t\t\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"No file selected\\\" aria-describedby=\\\"basic-addon3\\\" ng-model=\\\"morphologicalData.data.file.name\\\" readonly>\\n\" +\n    \"\t\t\t\t\t\t  \t\t</div>\\n\" +\n    \"\t\t\t\t\t\t\t  </div>\\n\" +\n    \"\t\t\t\t\t\t\t</div>\\n\" +\n    \"\t\t\t  \t\t\t</div>\\n\" +\n    \"\t\t\t  \t\t</div>\\n\" +\n    \"\t\t\t\t</div>\\n\" +\n    \"\t\t\t</div>\\n\" +\n    \"\t\t</div>\\n\" +\n    \"\\n\" +\n    \"\t\t\\n\" +\n    \"\t</div>\\n\" +\n    \"</div>\"\n  );\n\n}]);\n"]}
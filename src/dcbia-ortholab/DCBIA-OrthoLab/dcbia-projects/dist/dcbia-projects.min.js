angular.module("dcbia-projects",["checklist-model"]);angular.module("dcbia-projects").directive("projects",["$routeParams","dcbia","clusterauth",function($routeParams,dcbia,clusterauth){function link($scope,$attrs,$filter){clusterauth.getUser().then(function(res){$scope.user=res});$scope.projects={newProject:{collections:[],type:"project",name:"",scope:"",description:""},projects:[],projectsProperties:{defaultProject:{class:""}},section:0,showSection:0};$scope.defaultProject={_id:"defaultProject",name:"All projects",type:"project",items:0};$scope.morphologicalDataCollection={collections:[],selectedCollections:[]};$scope.morphologicalCheckBox=false;$scope.clinicalDataCollection={collections:[],selectedCollections:[]};$scope.clinicalCheckBox=false;$scope.csv={};$scope.$watch("csv.file",function(){if($scope.csv.file){$scope.csv.readFile().then(function(){$scope.$apply()})}});$scope.projects.getProjects=function(){return dcbia.getProjects().then(function(res){delete $scope.projects.selectedProject;$scope.projects.projects=res.data;_.each($scope.projects.projects,function(project){$scope.projects.projectsProperties[project._id]={class:""}})}).catch(console.error)};$scope.projects.create=function(newProject){_.each($scope.clinicalDataCollection.selectedCollections,function(collection){_.each($scope.clinicalDataCollection.collections,function(items){if(collection===items.name){$scope.projects.newProject.collections.push({_id:items._id})}})});_.each($scope.morphologicalDataCollection.selectedCollections,function(collection){_.each($scope.morphologicalDataCollection.collections,function(items){if(collection===items.name){$scope.projects.newProject.collections.push({_id:items._id})}})});if($scope.projects.newProject.scope===""){delete $scope.projects.newProject.scope}dcbia.createProject(newProject).then(function(res){return $scope.projects.getProjects()}).catch(console.error)};$scope.projects.update=function(project){project.collections=[];_.each($scope.clinicalDataCollection.selectedCollections,function(collection){_.each($scope.clinicalDataCollection.collections,function(items){if(collection===items.name){project.collections.push({_id:items._id})}})});_.each($scope.morphologicalDataCollection.selectedCollections,function(collection){_.each($scope.morphologicalDataCollection.collections,function(items){if(collection===items.name){project.collections.push({_id:items._id})}})});if(project.scope===""){delete project.scope}dcbia.updateProject(project).then(function(res){return $scope.projects.getProjects()}).catch(console.error)};$scope.projects.delete=function(project){if(confirm("Are you sure you want to delete the project?")){dcbia.deleteProject(project._id).then(function(res){return $scope.projects.getProjects()}).catch(console.error)}};$scope.projects.selectProject=function(project){if($scope.projects.selectedProject){$scope.projects.projectsProperties[$scope.projects.selectedProject._id].class=""}$scope.projects.selectedProject=project;$scope.projects.projectsProperties[project._id].class="alert alert-info";$scope.clinicalDataCollection.selectedCollections=[];$scope.morphologicalDataCollection.selectedCollections=[];_.each($scope.projects.selectedProject.collections,function(collection){_.each($scope.clinicalDataCollection.collections,function(clinicalCollection){if(collection._id==clinicalCollection._id){$scope.clinicalDataCollection.selectedCollections.push(clinicalCollection.name)}});_.each($scope.morphologicalDataCollection.collections,function(morphologicalDataCollection){if(collection._id==morphologicalDataCollection._id){$scope.morphologicalDataCollection.selectedCollections.push(morphologicalDataCollection.name)}})})};$scope.projects.getProjectKeys=function(project){var projectKeys={};_.each(project,function(items){_.extend(projectKeys,items)});if(projectKeys._id){delete projectKeys._id}if(projectKeys._rev){delete projectKeys._rev}return _.keys(projectKeys)};$scope.projects.select=function(project){return dcbia.getProject(project._id).then(function(res){var selectedProject=res.data;$scope.projects.selectProject(selectedProject);$scope.projects.selectedProjectKeys=$scope.projects.getProjectKeys([selectedProject])}).catch(console.error)};$scope.projects.clearForm=function(force){if(!force){force=confirm("Do you want to clear the current changes?")}if(force){$scope.projects.newProject={collections:[],type:"project",name:"",scope:"",description:""};$scope.morphologicalDataCollection.selectedCollections=[];$scope.clinicalDataCollection.selectedCollections=[]}};$scope.projects.getProjectItems=function(project){var sum=0;_.each(project.collections,function(collection){_.each($scope.clinicalDataCollection.collections,function(clinicalCollection){if(collection._id==clinicalCollection._id){sum+=clinicalCollection.items.length}});_.each($scope.morphologicalDataCollection.collections,function(morphologicalDataCollection){if(collection._id==morphologicalDataCollection._id){sum+=morphologicalDataCollection.items.length}})});return sum};$scope.morphologicalDataCollection.getMorphologicalDataCollections=function(){return dcbia.getMorphologicalDataCollections().then(function(res){$scope.morphologicalDataCollection.collections=res.data}).catch(console.error)};$scope.morphologicalDataCollection.checkAll=function(checkbox){$scope.morphologicalDataCollection.selectedCollections=[];if(checkbox){_.each($scope.morphologicalDataCollection.collections,function(collection){$scope.morphologicalDataCollection.selectedCollections.push(collection.name)})}};$scope.morphologicalDataCollection.isCollectionInProject=function(collection){var display=false;_.each($scope.morphologicalDataCollection.selectedCollections,function(selectedCollection){if(collection.name===selectedCollection){display=true}});return display};$scope.clinicalDataCollection.getClinicalDataCollections=function(){return dcbia.getClinicalDataCollections().then(function(res){$scope.clinicalDataCollection.collections=res.data}).catch(console.error)};$scope.clinicalDataCollection.checkAll=function(checkbox){$scope.clinicalDataCollection.selectedCollections=[];if(checkbox){_.each($scope.clinicalDataCollection.collections,function(collection){$scope.clinicalDataCollection.selectedCollections.push(collection.name)})}};$scope.clinicalDataCollection.isCollectionInProject=function(collection){var display=false;_.each($scope.clinicalDataCollection.selectedCollections,function(selectedCollection){if(collection.name===selectedCollection){display=true}});return display};$scope.csv.export=function(project){var prom;if(!$scope.projects.selectedProject||project._id!==$scope.projects.selectedProject._id){prom=$scope.projects.select(project)}else{prom=Promise.resolve(true)}prom.then(function(){var keys=$scope.projects.getProjectKeys([$scope.projects.selectedProject]);var csv="name:,"+$scope.projects.selectedProject.name+"\n";csv+="description:,"+$scope.projects.selectedProject.description+"\n";if(keys.indexOf("scope")!==-1){csv+="scope:,"+$scope.projects.selectedProject.scope+"\n"}csv+="\n";var collectionKeys=["Name","Number of items","Type"];csv+=collectionKeys.toString();csv+="\n";_.each($scope.projects.selectedProject.collections,function(collection,i){_.each($scope.clinicalDataCollection.collections,function(clinicalCollection){if(collection._id===clinicalCollection._id){csv+=clinicalCollection.name+","+clinicalCollection.items.length+","+clinicalCollection.type+"\n"}});_.each($scope.morphologicalDataCollection.collections,function(morphologicalDataCollection){if(collection._id===morphologicalDataCollection._id){csv+=morphologicalDataCollection.name+","+morphologicalDataCollection.items.length+","+morphologicalDataCollection.type+"\n"}})});var filename=$scope.projects.selectedProject.name;if($scope.projects.selectedProject.name.indexOf("csv")===-1){filename+=".csv"}return $scope.csv.download(filename,csv)})};$scope.csv.download=function(filename,csv){var pom=document.createElement("a");var bb=new Blob([csv],{type:"text/plain"});pom.setAttribute("href",window.URL.createObjectURL(bb));pom.setAttribute("download",filename);pom.dataset.downloadurl=["text/plain",pom.download,pom.href].join(":");pom.click()};$scope.openWindow=function(collection){window.open("#/"+collection.type.substring(0,collection.type.length-"collection".length)+"#"+collection.name,"_blank")};$scope.projects.getProjects();$scope.morphologicalDataCollection.getMorphologicalDataCollections();$scope.clinicalDataCollection.getClinicalDataCollections()}return{restrict:"E",link:link,templateUrl:"./src/dcbia-projects.template.html"}}]);angular.module("dcbia-projects").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("./src/dcbia-projects.template.html",'<div class="row">\n'+'\t<div class="panel panel-default">\n'+'  \t\t<div class="panel-body">\n'+'\t\t\t<div class="col-md-12">\n'+'\t\t\t\t<div class="btn-group">\n'+'\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.section=1;projects.showSection=clinicalDataCollection.selectedCollections=[];morphologicalDataCollection.selectedCollections=[];">\n'+'\t\t\t\t \t<span class="glyphicon glyphicon-plus"></span>\n'+"\t\t\t\t \tNew Project\n"+"\t\t\t\t </button>\n"+"\t\t\t\t</div>\n"+"\t\t\t</div>\n"+"\t\t</div>\n"+"\t</div>\n"+"</div>\n"+'<div class="row" ng-if="projects.section == 0">\n'+'\t<div class="panel panel-default">\n'+'  \t\t<div class="panel-body">\n'+'  \t\t\t<div class="col-sm-6 col-md-4">\n'+"\t\t\t\t<div ng-class=\"projects.projectProperties['defaultProject'].class\">\n"+'\t\t\t\t    <div class="thumbnail">\n'+'\t\t\t\t      <div class="caption">\n'+"\t\t\t\t        <h3>{{defaultProject.name}}</h3>\n"+"\t\t\t\t        <p>\n"+"\t\t\t\t        \t<b>Number of projects: </b> {{projects.projects.length}}\n"+"\t\t\t\t        </p>\n"+'\t\t\t        \t<div class="btn-group">\n'+'\t\t\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.showSection = 0;projects.select(defaultProject)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-refresh"></span>\n'+"\t\t\t\t\t\t </button>\n"+'\t\t\t\t\t\t <button type="button" class="btn btn-default" ng-click="csv.export(defaultProject)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-download"></span>\n'+"\t\t\t\t\t\t </button>\n"+"\t\t\t\t\t\t</div>\n"+"\t\t\t\t      </div>\n"+"\t\t\t\t    </div>\n"+"\t\t\t\t</div>\n"+"\t\t\t</div>\n"+'\t\t\t<div class="col-sm-6 col-md-4" ng-repeat="project in projects.projects">\n'+'\t\t\t\t<div ng-class="projects.projectsProperties[project._id].class">\n'+'\t\t\t\t    <div class="thumbnail">\n'+'\t\t\t\t      <div class="caption">\n'+"\t\t\t\t        <h3>{{project.name}}</h3>\n"+"\t\t\t\t        <p>\n"+"\t\t\t\t        \t<b>Number of items: </b> {{projects.getProjectItems(project)}}\n"+"\t\t\t\t        </p>\n"+'\t\t\t        \t<div class="btn-group">\n'+'\t\t\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.showSection = 1;projects.select(project)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-eye-open"></span>\n'+"\t\t\t\t\t\t </button>\n"+'\t\t\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.showSection = 2;projects.select(project)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-pencil"></span>\n'+"\t\t\t\t\t\t </button>\n"+"\n"+'\t\t\t\t\t\t <button type="button" class="btn btn-default" ng-click="csv.export(project)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-download"></span>\n'+"\t\t\t\t\t\t </button>\n"+"\n"+'\t\t\t\t\t\t <button type="button" class="btn btn-danger" ng-click="projects.delete(project)">\n'+'\t\t\t\t\t\t \t<span class="glyphicon glyphicon-remove"></span>\n'+"\t\t\t\t\t\t </button>\n"+"\n"+"\t\t\t\t\t\t</div>\n"+"\t\t\t\t      </div>\n"+"\t\t\t\t    </div>\n"+"\t\t\t\t</div>\n"+"\t\t\t</div>\n"+"\t\t</div>\n"+"\t</div>\n"+'\t<div class="panel panel-info" ng-if="projects.showSection == 1">\n'+'\t\t<div class="panel-body">\n'+'\t\t  \t<div class="col-md-6">\n'+'\t\t  \t\t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t \tClinical collections\n"+"\t\t\t\t\t</div>\n"+'\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t  \t\t\t<table st-table="projects.selectedProject.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t<tr ng-repeat="collection in clinicalDataCollection.collections">\n'+'\t\t\t\t\t\t        \t<td ng-if="clinicalDataCollection.isCollectionInProject(collection)">\n'+'\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t        \t</td>\n"+'\t\t\t\t\t\t        \t<td ng-if="clinicalDataCollection.isCollectionInProject(collection)">\n'+"\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t        \t</td>\n"+'\t\t\t\t\t\t        \t<td ng-if="clinicalDataCollection.isCollectionInProject(collection)">\n'+"\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t</table>\n"+"\t\t\t  \t\t</div>\n"+"\t\t\t  \t</div>\n"+"\t\t  \t</div>\n"+'\t\t  \t<div class="col-md-6">\n'+'\t\t\t  \t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t \tMorphological collections\n"+"\t\t\t\t\t</div>\n"+'\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t  \t\t\t<table st-table="morphologicalDataCollection.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t<tr ng-repeat="collection in morphologicalDataCollection.collections">\n'+'\t\t\t\t\t\t        \t<td ng-if="morphologicalDataCollection.isCollectionInProject(collection)">\n'+'\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t        \t</td>\n"+'\t\t\t\t\t\t        \t<td ng-if="morphologicalDataCollection.isCollectionInProject(collection)">\n'+"\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t        \t</td>\n"+'\t\t\t\t\t\t        \t<td ng-if="morphologicalDataCollection.isCollectionInProject(collection)">\n'+"\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t</table>\n"+"\t\t\t  \t\t</div>\n"+"\t\t\t  \t</div>\n"+"\t\t  \t</div>\n"+"\t\t</div>\n"+"\t</div>\n"+'\t<div class="panel panel-info" ng-if="projects.showSection == 2">\n'+'\t\t<div class="panel panel-default">\n'+'\t\t  <div class="panel-body">\n'+'\t\t  \t<div class="input-group">\n'+'\t  \t\t\t<span class="input-group-addon">Name</span>\n'+'\t  \t\t\t<input type="text" class="form-control" placeholder="Project name" aria-describedby="basic-addon3" ng-model="projects.selectedProject.name">\n'+"\t  \t\t</div>\n"+'\t  \t\t<div class="input-group">\n'+'\t  \t\t\t<span class="input-group-addon">Description</span>\n'+'\t  \t\t\t<input type="text" class="form-control" placeholder="Write description of the project" aria-describedby="basic-addon3" ng-model="projects.selectedProject.description">\n'+"\t  \t\t</div>\n"+'\t  \t\t<div class="input-group">\n'+'\t  \t\t\t<span class="input-group-addon">User group (Optional)</span>\n'+'\t  \t\t\t<input type="text" class="form-control" placeholder="Restrict acces to your project to that group" aria-describedby="basic-addon3" ng-model="projects.selectedProject.scope">\n'+"\t  \t\t</div>\n"+'\t  \t\t<div class="panel panel-default">\n'+'\t\t\t\t<div class="panel-heading">\n'+"\t\t\t    \tEdit project collections:\n"+"\t\t\t  \t</div>\n"+'\t\t  \t\t<div class="panel-body">\n'+'\t\t\t\t  \t<div class="col-md-6">\n'+'\t\t\t\t  \t\t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t\t\t \tClinical collections\n"+"\t\t\t\t\t\t\t</div>\n"+'\t\t\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t\t\t  \t\t\t<table st-table="clinicalDataCollection.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>\n"+'\t\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." ng-model="clinicalCheckBox" ng-value="!clinicalCheckBox" ng-click="clinicalDataCollection.checkAll(clinicalCheckBox)">\n'+"\t\t\t\t\t\t\t\t        \t</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t\t\t<tr ng-repeat="collection in clinicalDataCollection.collections">\n'+"\t\t\t\t\t\t\t\t\t\t\t<td>\n"+'\t\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." checklist-model="clinicalDataCollection.selectedCollections" checklist-value="collection.name">\n'+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+'\t\t\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t\t\t</table>\n"+"\t\t\t\t\t  \t\t</div>\n"+"\t\t\t\t\t  \t</div>\n"+"\t\t\t\t  \t</div>\n"+'\t\t\t\t  \t<div class="col-md-6">\n'+'\t\t\t\t\t  \t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t\t\t \tMorphological collections\n"+"\t\t\t\t\t\t\t</div>\n"+'\t\t\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t\t\t  \t\t\t<table st-table="morphologicalDataCollection.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>\n"+'\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" aria-label="..." ng-model="morphologicalCheckBox" ng-value="!morphologicalCheckBox" ng-click="morphologicalDataCollection.checkAll(morphologicalCheckBox)">\n'+"\t\t\t\t\t\t\t\t        \t</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t\t\t<tr ng-repeat="collection in morphologicalDataCollection.collections">\n'+"\t\t\t\t\t\t\t\t\t\t\t<td>\n"+'\t\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." checklist-model="morphologicalDataCollection.selectedCollections" checklist-value="collection.name">\n'+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+'\t\t\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t\t\t</table>\n"+"\t\t\t\t\t  \t\t</div>\n"+"\t\t\t\t\t  \t</div>\n"+"\t\t\t\t  \t</div>\n"+"\t\t\t\t</div>\n"+"\t\t\t</div>\n"+'\t  \t\t<div class="btn-group">\n'+'\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.update(projects.selectedProject);projects.showSection = 0">\n'+'\t\t\t\t \t<span class="glyphicon glyphicon-ok"></span>\n'+"\t\t\t\t \tUpdate\n"+"\t\t\t\t </button>\n"+'\t\t\t\t <button type="button" class="btn btn-default" ng-click="projects.showSection = 0;projects.clearForm(false);">\n'+'\t\t\t\t \t<span class="glyphicon glyphicon-remove"></span>\n'+"\t\t\t\t \tCancel\n"+"\t\t\t\t </button>\n"+"\t\t\t\t</div>\n"+"\t\t  </div>\n"+"\t\t</div>\n"+"\t</div>\n"+"</div>\n"+'<div class="row" ng-if="projects.section == 1">\n'+'\t<div class="panel panel-success">\n'+'\t  <div class="panel-body">\n'+'\t  \t<div class="input-group">\n'+'  \t\t\t<span class="input-group-addon">Name</span>\n'+'  \t\t\t<input type="text" class="form-control" placeholder="Project name" aria-describedby="basic-addon3" ng-model="projects.newProject.name">\n'+"  \t\t</div>\n"+'  \t\t<div class="input-group">\n'+'  \t\t\t<span class="input-group-addon">Description</span>\n'+'  \t\t\t<input type="text" class="form-control" placeholder="Write description of the project" aria-describedby="basic-addon3" ng-model="projects.newProject.description">\n'+"  \t\t</div>\n"+'  \t\t<div class="input-group">\n'+'  \t\t\t<span class="input-group-addon">User group (Optional)</span>\n'+'  \t\t\t<input type="text" class="form-control" placeholder="Restrict acces to your project to that group" aria-describedby="basic-addon3" ng-model="projects.newProject.scope">\n'+"  \t\t</div>\n"+'  \t\t<div class="panel panel-default">\n'+'\t\t\t<div class="panel-heading">\n'+"\t\t    \tAdd collections to the project:\n"+"\t\t  \t</div>\n"+'\t  \t\t<div class="panel-body">\n'+'\t\t\t  \t<div class="col-md-6">\n'+'\t\t\t  \t\t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t\t \tClinical collections\n"+"\t\t\t\t\t\t</div>\n"+'\t\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t\t  \t\t\t<table st-table="clinicalDataCollection.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t\t<th>\n"+'\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." ng-model="clinicalCheckBox" ng-value="!clinicalCheckBox" ng-click="clinicalDataCollection.checkAll(clinicalCheckBox)">\n'+"\t\t\t\t\t\t\t        \t</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t\t<tr ng-repeat="collection in clinicalDataCollection.collections">\n'+"\t\t\t\t\t\t\t\t\t\t<td>\n"+'\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." checklist-model="clinicalDataCollection.selectedCollections" checklist-value="collection.name">\n'+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+'\t\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t\t</table>\n"+"\t\t\t\t  \t\t</div>\n"+"\t\t\t\t  \t</div>\n"+"\t\t\t  \t</div>\n"+'\t\t\t  \t<div class="col-md-6">\n'+'\t\t\t\t  \t<div class="panel panel-default" style="overflow:scroll">\n'+'\t\t\t\t\t\t<div class="panel-heading">\n'+"\t\t\t\t\t\t \tMorphological collections\n"+"\t\t\t\t\t\t</div>\n"+'\t\t\t\t  \t\t<div class="panel-body">\n'+'\t\t\t\t  \t\t\t<table st-table="morphologicalDataCollection.collections" st-sort="{{key}}" class="table table-striped">\n'+"\t\t\t\t\t\t\t\t<thead>\n"+"\t\t\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t\t\t<th>\n"+'\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" aria-label="..." ng-model="morphologicalCheckBox" ng-value="!morphologicalCheckBox" ng-click="morphologicalDataCollection.checkAll(morphologicalCheckBox)">\n'+"\t\t\t\t\t\t\t        \t</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Name</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Number of items</th>\n"+"\t\t\t\t\t\t\t\t\t\t<th>Type</th> \n"+"\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t</thead>\n"+"\t\t\t\t\t\t\t\t<tbody>\n"+'\t\t\t\t\t\t\t\t\t<tr ng-repeat="collection in morphologicalDataCollection.collections">\n'+"\t\t\t\t\t\t\t\t\t\t<td>\n"+'\t\t\t\t\t        \t\t\t\t<input type="checkbox" aria-label="..." checklist-model="morphologicalDataCollection.selectedCollections" checklist-value="collection.name">\n'+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+'\t\t\t\t\t\t\t        \t\t<button type="button" class="btn btn-default" ng-click="openWindow(collection)">\n'+"\t\t\t\t\t\t\t        \t\t\t{{collection.name}}\n"+"\t\t\t\t\t\t\t        \t\t</button>\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t        \t\t{{collection.items.length}}\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t        \t<td>\n"+"\t\t\t\t\t\t\t        \t\t{{collection.type}}\n"+"\t\t\t\t\t\t\t        \t</td>\n"+"\t\t\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t\t\t</table>\n"+"\t\t\t\t  \t\t</div>\n"+"\t\t\t\t  \t</div>\n"+"\t\t\t  \t</div>\n"+"\t\t\t</div>\n"+"\t\t</div>\n"+'  \t\t<div class="btn-group">\n'+'\t\t\t <button type="button" class="btn btn-default" ng-click="projects.create(projects.newProject);projects.clearForm(true);projects.section = 0">\n'+'\t\t\t \t<span class="glyphicon glyphicon-ok"></span>\n'+"\t\t\t \tCreate\n"+"\t\t\t </button>\n"+'\t\t\t <button type="button" class="btn btn-default" ng-click="projects.section = 0;projects.clearForm(false);">\n'+'\t\t\t \t<span class="glyphicon glyphicon-remove"></span>\n'+"\t\t\t \tCancel\n"+"\t\t\t </button>\n"+"\t\t\t</div>\n"+"\t  </div>\n"+"\t</div>\n"+"</div>")}]);
//# sourceMappingURL=dcbia-projects.min.js.map